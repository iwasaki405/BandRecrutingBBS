<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/layout}">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>募集記事個別画面</title>
</head>
<body>
	<div layout:fragment="content">
		<h1>バンドメンバー募集記事個別画面</h1>
		<table class="table table-striped table-hover">
	    	<tbody th:object="${individualPostForm}">
		    	<tr>
				  <td>
					  <a href="#" th:text="*{title}"></a>
					  <p th:text="*{content}"></p>
					  <p th:text="*{createDateTime}"></p>
					  
					  <!-- Button trigger modal -->
					  <button type="button mb-3" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal">
					    削除
					  </button>
					  <!-- Modal -->
					  <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
						  <div class="modal-dialog">
						    <div class="modal-content">
						      <div class="modal-header">
						        <h1 class="modal-title fs-5" id="exampleModalLabel">削除確認画面</h1>
						        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						      </div>
						      <div class="modal-body">
						        削除してもよろしいですか？
						      </div>
						      <div class="modal-footer">
						        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">キャンセル</button>
						        <a class="btn btn-outline-danger" th:href="@{'/delete/' + *{recruitingId}}">削除</a>
						      </div>
						    </div>
						  </div>
						</div>
					  <a class="btn btn-outline-success" th:href="@{'/reply/' + *{recruitingId}}">返信</a>
				  </td>
				</tr>
				<th:block th:if="*{replyList} != null">
					<tr th:each="item : *{replyList}">
						<td>
							<p th:text="${item.userId}"></p>
							<p th:text="${item.content}"></p>								
							<p th:text="${item.updateDateTime}"></p>
							<a href="#">修正</a>
					  
					  <!-- Button trigger modal -->
					  <button type="button mb-3" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteReplyModal">
					    削除
					  </button>
					  <!-- Modal -->
					  <div class="modal fade" id="deleteReplyModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
						  <div class="modal-dialog">
						    <div class="modal-content">
						      <div class="modal-header">
						        <h1 class="modal-title fs-5" id="deleteReplyModalLabel">削除確認画面</h1>
						        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						      </div>
						      <div class="modal-body">
						        削除してもよろしいですか？
						      </div>
						      <div class="modal-footer">
						        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">キャンセル</button>
						        <a class="btn btn-outline-danger" th:href="@{'/delete_reply/' + ${item.replyId}}">削除</a>
						      </div>
						    </div>
						  </div>
						</div>
						</td>
					</tr>
				</th:block>	
			</tbody>
		</table>
		<a class="btn btn-outline-primary" th:href="@{/top}">
			 	戻る
		</a>
	</div>
</body>
</html>